const basePath=window.location.hostname.includes("github.io")?"/Personal-Static/":"/";function loadBarba(){const e=document.createElement("script");e.src="https://unpkg.com/@barba/core",e.onload=initBarba,e.onerror=()=>{console.error("Failed to load Barba.js. Falling back to normal page loads.")},document.head.appendChild(e)}function initBarba(){"undefined"!=typeof barba?(console.log("Initializing Barba.js transitions"),barba.hooks.before((e=>{if(["projects.html","index.html","resources.html"].some((a=>e.next.url.path.includes(a))))return console.log("Navigating to page that needs refresh - bypassing Barba"),window.location.href=e.next.url.href,!1})),barba.init({debug:!0,transitions:[{name:"default-transition",leave:e=>new Promise((a=>{const t=e.current.container;t.classList.add("page-exit"),t.querySelector("#sidebar")&&t.querySelector("#sidebar").classList.contains("slide-left")&&t.querySelector("#sidebar").classList.remove("slide-left"),setTimeout(a,300)})),enter:e=>new Promise((a=>{const t=e.next.container;t.classList.add("page-enter"),setTimeout((()=>{[{id:"headerContainer",path:"header.html"},{id:"sidebarContainer",path:"sidebar.html"},{id:"footerContainer",path:"footer.html"}].forEach((e=>{t.querySelector(`#${e.id}`)&&!t.querySelector(`#${e.id}`).innerHTML.trim()&&(console.log(`Loading partial ${e.path} after transition`),window.loadPartial(e.id,e.path))})),t.classList.remove("page-enter")}),300),a()}))}]})):console.error("Barba.js still not available after loading attempt.")}document.addEventListener("DOMContentLoaded",(()=>{"undefined"==typeof barba?(console.warn("Barba.js is not loaded. Loading it dynamically..."),loadBarba()):initBarba()})),window.loadPartial=async function(e,a){try{const t=window.location.hostname.includes("github.io")?"/Personal-Static/":"/";console.log("Loading partial:",e,a,"with base path:",t);const o=t+"partials/"+a;console.log("Final URL:",o);const n=await fetch(o,{cache:"no-store"});if(n.ok){const a=await n.text(),t=document.getElementById(e);t&&(t.innerHTML=a,setTimeout((()=>t.classList.add("loaded")),100))}else console.error("Failed to load partial:",o,n.status),document.getElementById(e).innerHTML=`<div class="error-partial">Failed to load ${a}.</div>`}catch(a){console.error("Error in loadPartial:",a),document.getElementById(e).innerHTML=`<div class="error-partial">Error: ${a.message}</div>`}};