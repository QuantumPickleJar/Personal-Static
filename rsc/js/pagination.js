import{projectsPerPage}from"./perPageSettings.js";import{renderProjectsGallery,allProjects}from"./projects.js";let currentPage=1,itemsPerPage=projectsPerPage,totalPages=1,currentProjects=[];export function initPagination(e,t){currentProjects=Array.isArray(e)?e:Array.from(e),itemsPerPage=t||itemsPerPage,totalPages=Math.ceil(currentProjects.length/itemsPerPage),console.log("Initializing pagination:",{totalPages,itemsPerPage}),currentPage=1,renderPage(currentPage),renderPaginationControls()}function renderPage(e){currentPage=e;const t=(currentPage-1)*itemsPerPage,n=t+itemsPerPage;renderProjectsGallery(currentProjects.slice(t,Math.min(n,currentProjects.length)))}function renderPaginationControls(){const e=window.innerWidth>=768?"inlinePaginationContainer":"paginationContainer",t=document.getElementById(e);t.innerHTML="";const n=document.createElement("div");n.classList.add("pagination-wrapper","d-flex","justify-content-center");const r=document.createElement("button");r.textContent="Previous",r.classList.add("btn","btn-outline-secondary","me-2"),r.disabled=1===currentPage,r.addEventListener("click",(()=>{currentPage>1&&(renderPage(currentPage-1),renderPaginationControls())})),n.appendChild(r);for(let e=1;e<=totalPages;e++){const t=document.createElement("button");t.textContent=e,t.classList.add("btn","btn-outline-primary","mx-1"),e===currentPage&&(t.classList.remove("btn-outline-primary"),t.classList.add("active","btn-primary")),t.addEventListener("click",(()=>{renderPage(e),renderPaginationControls()})),n.appendChild(t)}const a=document.createElement("button");a.textContent="Next",a.classList.add("btn","btn-outline-secondary","ms-2"),a.disabled=currentPage===totalPages,a.addEventListener("click",(()=>{currentPage<totalPages&&(renderPage(currentPage+1),renderPaginationControls())})),n.appendChild(a),t.appendChild(n)}export function updateItemsPerPage(e){itemsPerPage=e,totalPages=Math.ceil(currentProjects.length/itemsPerPage),renderPage(1),renderPaginationControls()}