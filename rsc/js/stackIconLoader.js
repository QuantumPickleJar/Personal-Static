import{iconSvgs}from"./stackSvgMap.js";export function getIcon(t){const e=t.trim(),a=iconSvgs[e];return a?`data:image/svg+xml;base64,${btoa(a)}`:null}export function renderOneStackIcon(t){const e=t.trim(),a=window.location.hostname.includes("github.io")?"/Personal-Static/":"/",n=document.createElement("div");n.classList.add("stack-item-container"),n.setAttribute("data-tech",t);let s,o=getIcon(e);if(o)s=document.createElement("img"),s.src=o,s.alt=e,s.classList.add("stack-image");else{let o=`${a}rsc/images/stack/${e.toLowerCase()}.png`;console.log(`Fallback triggered for ${e}. Attempting to load PNG from: ${o}`),s=document.createElement("img"),s.src=o,s.alt=e,s.classList.add("stack-image");let c=!1;s.onerror=()=>{if(c){console.warn(`Unable to load icon for ${t}, using text label instead`);const e=document.createElement("span");return e.textContent=t.substring(0,2).toUpperCase(),e.classList.add("stack-text-fallback"),e.style.padding="3px 5px",e.style.backgroundColor="#f0f0f0",e.style.borderRadius="3px",e.style.fontSize="0.8em",void(n.contains(s)&&n.replaceChild(e,s))}c=!0,console.error(`Failed to load image: ${s.src}`),o=`${a}rsc/images/stack/${t}.png`,s.src=o}}n.appendChild(s);const c=document.createElement("span");return c.textContent=t,c.classList.add("stack-label"),n.appendChild(c),n}