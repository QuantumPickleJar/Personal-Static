import{iconSvgs}from"./stackSvgMap.js";export function getIcon(t){const e=t.trim(),o=iconSvgs[e];return o?`data:image/svg+xml;base64,${btoa(o)}`:null}export function renderOneStackIcon(t){const e=t.trim(),o=window.location.hostname.includes("github.io")?"/Personal-Static/":"/";let a=getIcon(e);if(a){const t=document.createElement("img");return t.src=a,t.alt=e,t.classList.add("stack-image"),t}{let a=`${o}rsc/images/stack/${e.toLowerCase()}.png`;console.log(`Fallback triggered for ${e}. Attempting to load PNG from: ${a}`);const n=document.createElement("img");n.src=a,n.alt=e,n.classList.add("stack-image");let s=!1;return n.onerror=()=>{if(s){console.warn(`Unable to load icon for ${t}, using text label instead`);const e=document.createElement("span");return e.textContent=t,e.classList.add("stack-text-fallback"),e.style.padding="3px 5px",e.style.backgroundColor="#f0f0f0",e.style.borderRadius="3px",e.style.fontSize="0.8em",void(n.parentNode&&n.parentNode.replaceChild(e,n))}s=!0,console.error(`Failed to load image: ${n.src}`),a=`${o}rsc/images/stack/${t}.png`,n.src=a},n}}